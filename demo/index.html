<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contract Review Skill - AI-Powered Contract Analysis</title>
  <meta name="description" content="Analyze contracts with AI to identify risks, check completeness, and extract key terms.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); }
    .card { background: rgba(30, 41, 59, 0.9); backdrop-filter: blur(12px); border: 1px solid rgba(71, 85, 105, 0.3); }
    .glow { box-shadow: 0 0 40px rgba(16, 185, 129, 0.15); }
    .loading { animation: pulse 2s ease-in-out infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .markdown h3 { color: #10b981; font-size: 1.125rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .markdown strong { color: #fff; }
    .markdown li { color: #cbd5e1; margin-left: 1rem; margin-bottom: 0.25rem; }
    .markdown p { color: #94a3b8; margin-bottom: 0.75rem; }
  </style>
</head>
<body class="gradient-bg min-h-screen text-white">
  <!-- Floating particles background -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"></div>
  </div>

  <div class="relative container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <header class="text-center mb-16">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-full text-emerald-400 text-sm mb-6">
        <span class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></span>
        Powered by Claude AI
      </div>
      <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-white via-slate-200 to-slate-400 bg-clip-text text-transparent">
        Contract Review Skill
      </h1>
      <p class="text-slate-400 text-xl max-w-2xl mx-auto">
        AI-powered contract analysis that identifies risks, checks completeness, and extracts key terms in seconds.
      </p>
      <div class="flex justify-center gap-4 mt-8">
        <a href="https://github.com/claude-office-skills/contract-review-skill" 
           target="_blank"
           class="px-6 py-3 bg-slate-800 border border-slate-700 rounded-xl hover:bg-slate-700 transition flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          Star on GitHub
        </a>
        <a href="#demo" 
           class="px-6 py-3 bg-emerald-600 rounded-xl hover:bg-emerald-500 transition font-medium">
          Try Demo ‚Üí
        </a>
      </div>
    </header>

    <!-- Features -->
    <section class="grid md:grid-cols-3 gap-6 mb-16">
      <div class="card rounded-2xl p-8 hover:border-emerald-500/30 transition">
        <div class="w-14 h-14 bg-emerald-500/10 rounded-xl flex items-center justify-center text-3xl mb-6">üîç</div>
        <h3 class="text-xl font-semibold mb-3">Risk Analysis</h3>
        <p class="text-slate-400 leading-relaxed">Identify potential risks, unfair clauses, and areas of concern. Covers 15+ risk patterns including liability, IP, confidentiality, and more.</p>
      </div>
      <div class="card rounded-2xl p-8 hover:border-blue-500/30 transition">
        <div class="w-14 h-14 bg-blue-500/10 rounded-xl flex items-center justify-center text-3xl mb-6">‚úÖ</div>
        <h3 class="text-xl font-semibold mb-3">Completeness Check</h3>
        <p class="text-slate-400 leading-relaxed">Verify all essential contract elements are present: parties, dates, signatures, governing law, termination clauses, and more.</p>
      </div>
      <div class="card rounded-2xl p-8 hover:border-purple-500/30 transition">
        <div class="w-14 h-14 bg-purple-500/10 rounded-xl flex items-center justify-center text-3xl mb-6">üìã</div>
        <h3 class="text-xl font-semibold mb-3">Term Extraction</h3>
        <p class="text-slate-400 leading-relaxed">Extract key terms and conditions as structured JSON data. Perfect for contract management systems and automated workflows.</p>
      </div>
    </section>

    <!-- Demo Section -->
    <section id="demo" class="card rounded-2xl p-8 mb-16 glow">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-bold">Live Demo</h2>
        <div class="flex items-center gap-2 text-sm text-slate-400">
          <span class="w-2 h-2 bg-emerald-400 rounded-full"></span>
          API Ready
        </div>
      </div>
      
      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Input -->
        <div>
          <label class="block text-sm font-medium text-slate-300 mb-3">Contract Text</label>
          <textarea 
            id="contract-input"
            class="w-full h-80 bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-sm font-mono focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 focus:outline-none resize-none"
            placeholder="Paste your contract text here..."
          >EMPLOYMENT AGREEMENT

This Employment Agreement ("Agreement") is entered into as of January 1, 2024.

PARTIES:
- Employer: TechCorp Inc., 123 Main Street, San Francisco, CA
- Employee: John Smith

POSITION: Software Engineer
COMPENSATION: $85,000 per year, paid bi-weekly

TERM: This agreement begins on the Effective Date and continues until terminated.

TERMINATION: Either party may terminate this agreement at any time, with or without cause, upon 14 days written notice.

CONFIDENTIALITY: Employee agrees to keep all company information confidential in perpetuity.

NON-COMPETE: Employee agrees not to work for any competitor for 3 years following termination within a 100-mile radius.

INTELLECTUAL PROPERTY: All work product created during employment shall be the sole property of Employer, including any inventions conceived outside of work hours.

ARBITRATION: Any disputes shall be resolved through binding arbitration, and Employee waives the right to a jury trial.

GOVERNING LAW: This agreement shall be governed by the laws of California.</textarea>
          
          <div class="flex flex-wrap gap-4 mt-4">
            <select id="jurisdiction" class="flex-1 min-w-[160px] bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 focus:border-emerald-500 focus:outline-none">
              <option value="auto">üåç Auto-detect Jurisdiction</option>
              <option value="us">üá∫üá∏ United States</option>
              <option value="eu">üá™üá∫ European Union</option>
              <option value="cn">üá®üá≥ China</option>
            </select>
            
            <select id="analysis-type" class="flex-1 min-w-[160px] bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 focus:border-emerald-500 focus:outline-none">
              <option value="analyze">üîç Full Analysis</option>
              <option value="check">‚úÖ Completeness Check</option>
              <option value="extract">üìã Extract Terms</option>
            </select>
          </div>
          
          <button 
            id="analyze-btn"
            class="w-full mt-4 px-6 py-4 bg-emerald-600 rounded-xl font-semibold hover:bg-emerald-500 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
          >
            <span id="btn-text">Analyze Contract</span>
            <svg id="btn-spinner" class="hidden w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </button>
          
          <p class="mt-3 text-xs text-slate-500 text-center">
            Analysis uses Claude Sonnet 4. Typical response time: 5-15 seconds.
          </p>
        </div>

        <!-- Output -->
        <div>
          <label class="block text-sm font-medium text-slate-300 mb-3">Analysis Result</label>
          <div 
            id="result-output"
            class="w-full h-[460px] bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-sm overflow-auto"
          >
            <div class="flex flex-col items-center justify-center h-full text-slate-500">
              <svg class="w-16 h-16 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <p>Results will appear here after analysis</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Integration Guide -->
    <section class="grid md:grid-cols-2 gap-8 mb-16">
      <div class="card rounded-2xl p-8">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Claude Desktop / Cursor</h3>
        </div>
        <p class="text-slate-400 mb-4 text-sm">Add this to your MCP configuration file:</p>
        <pre class="bg-slate-900/50 rounded-xl p-4 text-sm overflow-x-auto border border-slate-800"><code class="text-emerald-400">{
  "mcpServers": {
    "contract-review": {
      "url": "<span id="mcp-url">https://contract-review-skill.workers.dev</span>/mcp"
    }
  }
}</code></pre>
      </div>
      
      <div class="card rounded-2xl p-8">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center">
            <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold">HTTP API</h3>
        </div>
        <p class="text-slate-400 mb-4 text-sm">Direct API access for your applications:</p>
        <pre class="bg-slate-900/50 rounded-xl p-4 text-sm overflow-x-auto border border-slate-800"><code class="text-blue-400">curl -X POST <span id="api-url">https://contract-review-skill.workers.dev</span>/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"content": "...", "jurisdiction": "us"}'</code></pre>
      </div>
    </section>

    <!-- Jurisdictions -->
    <section class="card rounded-2xl p-8 mb-16">
      <h2 class="text-2xl font-bold mb-6">Supported Jurisdictions</h2>
      <div class="grid md:grid-cols-3 gap-4">
        <div class="bg-slate-900/50 rounded-xl p-4 border border-slate-800">
          <div class="flex items-center gap-3 mb-3">
            <span class="text-2xl">üá∫üá∏</span>
            <span class="font-semibold">United States</span>
          </div>
          <ul class="text-sm text-slate-400 space-y-1">
            <li>‚Ä¢ Fair Labor Standards Act</li>
            <li>‚Ä¢ At-Will Employment</li>
            <li>‚Ä¢ State-specific labor codes</li>
          </ul>
        </div>
        <div class="bg-slate-900/50 rounded-xl p-4 border border-slate-800">
          <div class="flex items-center gap-3 mb-3">
            <span class="text-2xl">üá™üá∫</span>
            <span class="font-semibold">European Union</span>
          </div>
          <ul class="text-sm text-slate-400 space-y-1">
            <li>‚Ä¢ GDPR Compliance</li>
            <li>‚Ä¢ Working Time Directive</li>
            <li>‚Ä¢ Employee Rights Directive</li>
          </ul>
        </div>
        <div class="bg-slate-900/50 rounded-xl p-4 border border-slate-800">
          <div class="flex items-center gap-3 mb-3">
            <span class="text-2xl">üá®üá≥</span>
            <span class="font-semibold">China</span>
          </div>
          <ul class="text-sm text-slate-400 space-y-1">
            <li>‚Ä¢ Labor Contract Law</li>
            <li>‚Ä¢ Social Insurance Law</li>
            <li>‚Ä¢ Non-compete limits (2yr max)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-8 border-t border-slate-800">
      <p class="text-slate-500 mb-4">
        Open Source ‚Ä¢ MIT License ‚Ä¢ Built with Claude + Cloudflare Workers
      </p>
      <div class="flex justify-center gap-6 text-slate-400">
        <a href="https://github.com/claude-office-skills/contract-review-skill" class="hover:text-white transition">GitHub</a>
        <a href="https://modelcontextprotocol.io" class="hover:text-white transition">MCP Docs</a>
        <a href="https://workers.cloudflare.com" class="hover:text-white transition">Cloudflare Workers</a>
      </div>
    </footer>
  </div>

  <script>
    // Configuration - change this to your deployed worker URL
    const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
      ? 'http://localhost:8787'
      : 'https://contract-review-skill.YOUR_SUBDOMAIN.workers.dev';

    // Update URLs in the page
    document.getElementById('mcp-url').textContent = API_BASE;
    document.getElementById('api-url').textContent = API_BASE;

    const analyzeBtn = document.getElementById('analyze-btn');
    const btnText = document.getElementById('btn-text');
    const btnSpinner = document.getElementById('btn-spinner');
    const contractInput = document.getElementById('contract-input');
    const jurisdictionSelect = document.getElementById('jurisdiction');
    const analysisTypeSelect = document.getElementById('analysis-type');
    const resultOutput = document.getElementById('result-output');

    analyzeBtn.addEventListener('click', async () => {
      const content = contractInput.value.trim();
      if (!content) {
        resultOutput.innerHTML = '<div class="text-red-400 p-4">‚ö†Ô∏è Please enter contract text.</div>';
        return;
      }

      // Show loading state
      analyzeBtn.disabled = true;
      btnText.textContent = 'Analyzing...';
      btnSpinner.classList.remove('hidden');
      resultOutput.innerHTML = `
        <div class="flex flex-col items-center justify-center h-full">
          <div class="w-12 h-12 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin mb-4"></div>
          <p class="text-emerald-400">Analyzing contract with Claude AI...</p>
          <p class="text-slate-500 text-sm mt-2">This may take 5-15 seconds</p>
        </div>
      `;

      try {
        const analysisType = analysisTypeSelect.value;
        const endpoint = analysisType === 'check' ? '/api/check' 
                       : analysisType === 'extract' ? '/api/extract' 
                       : '/api/analyze';

        const response = await fetch(API_BASE + endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            content,
            jurisdiction: jurisdictionSelect.value
          })
        });

        const result = await response.json();

        if (result.success) {
          if (analysisType === 'extract') {
            resultOutput.innerHTML = `
              <div class="mb-4">
                <span class="inline-block px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs font-medium">
                  üìã Extracted Terms
                </span>
              </div>
              <pre class="whitespace-pre-wrap text-slate-300 font-mono text-xs">${JSON.stringify(result.terms, null, 2)}</pre>
            `;
          } else {
            // Format markdown-like content
            const raw = result.analysis || result.result || '';
            const formatted = raw
              .replace(/### (.*)/g, '<h3>$1</h3>')
              .replace(/## (.*)/g, '<h2 class="text-xl font-bold text-white mt-6 mb-3">$1</h2>')
              .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
              .replace(/üî¥/g, '<span class="text-red-400">üî¥</span>')
              .replace(/üü°/g, '<span class="text-yellow-400">üü°</span>')
              .replace(/üü¢/g, '<span class="text-green-400">üü¢</span>')
              .replace(/‚úÖ/g, '<span class="text-green-400">‚úÖ</span>')
              .replace(/‚ùå/g, '<span class="text-red-400">‚ùå</span>')
              .replace(/‚ö†Ô∏è/g, '<span class="text-yellow-400">‚ö†Ô∏è</span>')
              .replace(/- (.*)/g, '<li>$1</li>')
              .replace(/\n\n/g, '</p><p>')
              .replace(/\n/g, '<br>');
            
            const badge = analysisType === 'check' 
              ? '<span class="inline-block px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs font-medium mb-4">‚úÖ Completeness Check</span>'
              : '<span class="inline-block px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded-full text-xs font-medium mb-4">üîç Risk Analysis</span>';
            
            resultOutput.innerHTML = `
              <div>${badge}</div>
              <div class="markdown"><p>${formatted}</p></div>
            `;
          }
        } else {
          resultOutput.innerHTML = `
            <div class="flex flex-col items-center justify-center h-full text-red-400">
              <svg class="w-12 h-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <p class="font-medium">Error</p>
              <p class="text-sm mt-2">${result.error || 'Analysis failed'}</p>
            </div>
          `;
        }
      } catch (error) {
        resultOutput.innerHTML = `
          <div class="flex flex-col items-center justify-center h-full text-red-400">
            <svg class="w-12 h-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <p class="font-medium">Connection Error</p>
            <p class="text-sm mt-2">${error.message}</p>
            <p class="text-xs text-slate-500 mt-4">Make sure the API is deployed and accessible.</p>
          </div>
        `;
      } finally {
        analyzeBtn.disabled = false;
        btnText.textContent = 'Analyze Contract';
        btnSpinner.classList.add('hidden');
      }
    });
  </script>
</body>
</html>
